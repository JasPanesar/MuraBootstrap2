$(function(){module("bootstrap-dropdowns");test("should be defined on jquery object",function(){ok($(document.body).dropdown,"dropdown method is defined")});test("should return element",function(){ok($(document.body).dropdown()[0]==document.body,"document.body returned")});test("should add class open to menu if clicked",function(){var a='<ul class="tabs"><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown</a><ul class="dropdown-menu"><li><a href="#">Secondary link</a></li><li><a href="#">Something else here</a></li><li class="divider"></li><li><a href="#">Another link</a></li></ul></li></ul>',b=$(a).find('[data-toggle="dropdown"]').dropdown().click();ok(b.parent(".dropdown").hasClass("open"),"open class added on click")});test("should remove open class if body clicked",function(){var a='<ul class="tabs"><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown</a><ul class="dropdown-menu"><li><a href="#">Secondary link</a></li><li><a href="#">Something else here</a></li><li class="divider"></li><li><a href="#">Another link</a></li></ul></li></ul>',b=$(a).appendTo("#qunit-fixture").find('[data-toggle="dropdown"]').dropdown().click();ok(b.parent(".dropdown").hasClass("open"),"open class added on click");$("body").click();ok(!b.parent(".dropdown").hasClass("open"),"open class removed");b.remove()})});$(function(){module("bootstrap-modal");test("should be defined on jquery object",function(){var a=$("<div id='modal-test'></div>");ok(a.modal,"modal method is defined")});test("should return element",function(){var a=$("<div id='modal-test'></div>");ok(a.modal()==a,"document.body returned");$("#modal-test").remove()});test("should expose defaults var for settings",function(){ok($.fn.modal.defaults,"default object exposed")});test("should insert into dom when show method is called",function(){stop();$.support.transition=false;$("<div id='modal-test'></div>").bind("shown",function(){ok($("#modal-test").length,"modal insterted into dom");$(this).remove();start()}).modal("show")});test("should hide modal when hide is called",function(){stop();$.support.transition=false;$("<div id='modal-test'></div>").bind("shown",function(){ok($("#modal-test").is(":visible"),"modal visible");ok($("#modal-test").length,"modal insterted into dom");$(this).modal("hide")}).bind("hidden",function(){ok(!$("#modal-test").is(":visible"),"modal hidden");$("#modal-test").remove();start()}).modal("show")});test("should toggle when toggle is called",function(){stop();$.support.transition=false;var a=$("<div id='modal-test'></div>");a.bind("shown",function(){ok($("#modal-test").is(":visible"),"modal visible");ok($("#modal-test").length,"modal insterted into dom");a.modal("toggle")}).bind("hidden",function(){ok(!$("#modal-test").is(":visible"),"modal hidden");a.remove();start()}).modal("toggle")});test("should remove from dom when click [data-dismiss=modal]",function(){stop();$.support.transition=false;var a=$("<div id='modal-test'><span class='close' data-dismiss='modal'></span></div>");a.bind("shown",function(){ok($("#modal-test").is(":visible"),"modal visible");ok($("#modal-test").length,"modal insterted into dom");a.find(".close").click()}).bind("hidden",function(){ok(!$("#modal-test").is(":visible"),"modal hidden");a.remove();start()}).modal("toggle")})});$(function(){module("bootstrap-tooltip");test("should be defined on jquery object",function(){var a=$("<div></div>");ok(a.tooltip,"popover method is defined")});test("should return element",function(){var a=$("<div></div>");ok(a.tooltip()==a,"document.body returned")});test("should expose default settings",function(){ok(!!$.fn.tooltip.defaults,"defaults is defined")});test("should remove title attribute",function(){var a=$('<a href="#" rel="tooltip" title="Another tooltip"></a>').tooltip();ok(!a.attr("title"),"title tag was removed")});test("should add data attribute for referencing original title",function(){var a=$('<a href="#" rel="tooltip" title="Another tooltip"></a>').tooltip();equals(a.attr("data-original-title"),"Another tooltip","original title preserved in data attribute")});test("should place tooltips relative to placement option",function(){$.support.transition=false;var a=$('<a href="#" rel="tooltip" title="Another tooltip"></a>').appendTo("#qunit-fixture").tooltip({placement:"bottom"}).tooltip("show");ok($(".tooltip").hasClass("fade bottom in"),"has correct classes applied");a.tooltip("hide")});test("should always allow html entities",function(){$.support.transition=false;var a=$('<a href="#" rel="tooltip" title="<b>@fat</b>"></a>').appendTo("#qunit-fixture").tooltip("show");ok($(".tooltip b").length,"b tag was inserted");a.tooltip("hide");ok(!$(".tooltip").length,"tooltip removed")});test("should respect custom classes",function(){var a=$('<a href="#" rel="tooltip" title="Another tooltip"></a>').appendTo("#qunit-fixture").tooltip({template:'<div class="tooltip some-class"><div class="tooltip-arrow"/><div class="tooltip-inner"/></div>'}).tooltip("show");ok($(".tooltip").hasClass("some-class"),"custom class is present");a.tooltip("hide");ok(!$(".tooltip").length,"tooltip removed")})});$(function(){module("bootstrap-popover");test("should be defined on jquery object",function(){var a=$("<div></div>");ok(a.popover,"popover method is defined")});test("should return element",function(){var a=$("<div></div>");ok(a.popover()==a,"document.body returned")});test("should render popover element",function(){$.support.transition=false;var a=$('<a href="#" title="mdo" data-content="http://twitter.com/mdo">@mdo</a>').appendTo("#qunit-fixture").popover("show");ok($(".popover").length,"popover was inserted");a.popover("hide");ok(!$(".popover").length,"popover removed")});test("should store popover instance in popover data object",function(){$.support.transition=false;var a=$('<a href="#" title="mdo" data-content="http://twitter.com/mdo">@mdo</a>').popover();ok(!!a.data("popover"),"popover instance exists")});test("should get title and content from options",function(){$.support.transition=false;var a=$('<a href="#">@fat</a>').appendTo("#qunit-fixture").popover({title:function(){return"@fat"},content:function(){return"loves writing tests （╯°□°）╯︵ ┻━┻"}});a.popover("show");ok($(".popover").length,"popover was inserted");equals($(".popover .popover-title").text(),"@fat","title correctly inserted");equals($(".popover .popover-content").text(),"loves writing tests （╯°□°）╯︵ ┻━┻","content correctly inserted");a.popover("hide");ok(!$(".popover").length,"popover was removed");$("#qunit-fixture").empty()});test("should get title and content from attributes",function(){$.support.transition=false;var a=$('<a href="#" title="@mdo" data-content="loves data attributes (づ｡◕‿‿◕｡)づ ︵ ┻━┻" >@mdo</a>').appendTo("#qunit-fixture").popover().popover("show");ok($(".popover").length,"popover was inserted");equals($(".popover .popover-title").text(),"@mdo","title correctly inserted");equals($(".popover .popover-content").text(),"loves data attributes (づ｡◕‿‿◕｡)づ ︵ ┻━┻","content correctly inserted");a.popover("hide");ok(!$(".popover").length,"popover was removed");$("#qunit-fixture").empty()});test("should respect custom classes",function(){$.support.transition=false;var a=$('<a href="#">@fat</a>').appendTo("#qunit-fixture").popover({title:"Test",content:"Test",template:'<div class="popover foobar"><div class="arrow"></div><div class="inner"><h3 class="title"></h3><div class="content"><p></p></div></div></div>'});a.popover("show");ok($(".popover").length,"popover was inserted");ok($(".popover").hasClass("foobar"),"custom class is present");a.popover("hide");ok(!$(".popover").length,"popover was removed");$("#qunit-fixture").empty()})});$(function(){module("bootstrap-collapse");test("should be defined on jquery object",function(){ok($(document.body).collapse,"collapse method is defined")});test("should return element",function(){ok($(document.body).collapse()[0]==document.body,"document.body returned")});test("should show a collapsed element",function(){var a=$('<div class="collapse"></div>').collapse("show");ok(a.hasClass("in"),"has class in");ok(/height/.test(a.attr("style")),"has height set")});test("should hide a collapsed element",function(){var a=$('<div class="collapse"></div>').collapse("hide");ok(!a.hasClass("in"),"does not have class in");ok(/height/.test(a.attr("style")),"has height set")})});$(function(){module("bootstrap-scrollspy");test("should be defined on jquery object",function(){ok($(document.body).scrollspy,"scrollspy method is defined")});test("should return element",function(){ok($(document.body).scrollspy()[0]==document.body,"document.body returned")});test("should switch active class on scroll",function(){var a='<div id="masthead"></div>',d=$(a).append("#qunit-fixture"),b='<div class="topbar"><div class="topbar-inner"><div class="container"><h3><a href="#">Bootstrap</a></h3><ul class="nav"><li><a href="#masthead">Overview</a></li></ul></div></div></div>',c=$(b).scrollspy();ok(c.find(".active",true))})});$(function(){module("bootstrap-alerts");test("should be defined on jquery object",function(){ok($(document.body).alert,"alert method is defined")});test("should return element",function(){ok($(document.body).alert()[0]==document.body,"document.body returned")});test("should fade element out on clicking .close",function(){var a='<div class="alert-message warning fade in"><a class="close" href="#" data-dismiss="alert">×</a><p><strong>Holy guacamole!</strong> Best check yo self, you\'re not looking too good.</p></div>',b=$(a).alert();b.find(".close").click();ok(!b.hasClass("in"),"remove .in class on .close click")});test("should remove element when clicking .close",function(){$.support.transition=false;var a='<div class="alert-message warning fade in"><a class="close" href="#" data-dismiss="alert">×</a><p><strong>Holy guacamole!</strong> Best check yo self, you\'re not looking too good.</p></div>',b=$(a).appendTo("#qunit-fixture").alert();ok($("#qunit-fixture").find(".alert-message").length,"element added to dom");b.find(".close").click();ok(!$("#qunit-fixture").find(".alert-message").length,"element removed from dom")})});$(function(){module("bootstrap-buttons");test("should be defined on jquery object",function(){ok($(document.body).button,"button method is defined")});test("should return element",function(){ok($(document.body).button()[0]==document.body,"document.body returned")});test("should return set state to loading",function(){var a=$('<button class="btn" data-loading-text="fat">mdo</button>');equals(a.html(),"mdo","btn text equals mdo");a.button("loading");equals(a.html(),"fat","btn text equals fat");stop();setTimeout(function(){ok(a.attr("disabled"),"btn is disabled");ok(a.hasClass("disabled"),"btn has disabled class");start()},0)});test("should return reset state",function(){var a=$('<button class="btn" data-loading-text="fat">mdo</button>');equals(a.html(),"mdo","btn text equals mdo");a.button("loading");equals(a.html(),"fat","btn text equals fat");stop();setTimeout(function(){ok(a.attr("disabled"),"btn is disabled");ok(a.hasClass("disabled"),"btn has disabled class");start();stop()},0);a.button("reset");equals(a.html(),"mdo","btn text equals mdo");setTimeout(function(){ok(!a.attr("disabled"),"btn is not disabled");ok(!a.hasClass("disabled"),"btn does not have disabled class");start()},0)});test("should toggle active",function(){var a=$('<button class="btn">mdo</button>');ok(!a.hasClass("active"),"btn does not have active class");a.button("toggle");ok(a.hasClass("active"),"btn has class active")});test("should toggle active when btn children are clicked",function(){var b=$('<button class="btn" data-toggle="button">mdo</button>'),a=$("<i></i>");b.append(a).appendTo($("#qunit-fixture"));ok(!b.hasClass("active"),"btn does not have active class");a.click();ok(b.hasClass("active"),"btn has class active")});test("should toggle active when btn children are clicked within btn-group",function(){var b=$('<div class="btn-group" data-toggle="buttons-checkbox"></div>'),c=$('<button class="btn">fat</button>'),a=$("<i></i>");b.append(c.append(a)).appendTo($("#qunit-fixture"));ok(!c.hasClass("active"),"btn does not have active class");a.click();ok(c.hasClass("active"),"btn has class active")})});$(function(){module("bootstrap-transition");test("should be defined on jquery support object",function(){ok($.support.transition!=undefined,"transition object is defined")});test("should provide an end object",function(){ok($.support.transition?$.support.transition.end:true,"end string is defined")})});$(function(){module("bootstrap-tabs");test("should be defined on jquery object",function(){ok($(document.body).tab,"tabs method is defined")});test("should return element",function(){ok($(document.body).tab()[0]==document.body,"document.body returned")});test("should activate element by tab id",function(){var a='<ul class="tabs"><li><a href="#home">Home</a></li><li><a href="#profile">Profile</a></li></ul>';$('<ul><li id="home"></li><li id="profile"></li></ul>').appendTo("#qunit-fixture");$(a).find("li:last a").tab("show");equals($("#qunit-fixture").find(".active").attr("id"),"profile");$(a).find("li:first a").tab("show");equals($("#qunit-fixture").find(".active").attr("id"),"home")});test("should activate element by tab id",function(){var a='<ul class="pills"><li><a href="#home">Home</a></li><li><a href="#profile">Profile</a></li></ul>';$('<ul><li id="home"></li><li id="profile"></li></ul>').appendTo("#qunit-fixture");$(a).find("li:last a").tab("show");equals($("#qunit-fixture").find(".active").attr("id"),"profile");$(a).find("li:first a").tab("show");equals($("#qunit-fixture").find(".active").attr("id"),"home")})});$(function(){module("bootstrap-typeahead");test("should be defined on jquery object",function(){ok($(document.body).typeahead,"alert method is defined")});test("should return element",function(){ok($(document.body).typeahead()[0]==document.body,"document.body returned")});test("should listen to an input",function(){var a=$("<input />");a.typeahead();ok(a.data("events").blur,"has a blur event");ok(a.data("events").keypress,"has a keypress event");ok(a.data("events").keyup,"has a keyup event");if($.browser.webkit||$.browser.msie){ok(a.data("events").keydown,"has a keydown event")}else{ok(a.data("events").keydown,"does not have a keydown event")}});test("should create a menu",function(){var a=$("<input />");ok(a.typeahead().data("typeahead").$menu,"has a menu")});test("should listen to the menu",function(){var b=$("<input />"),a=b.typeahead().data("typeahead").$menu;ok(a.data("events").mouseover,"has a mouseover(pseudo: mouseenter)");ok(a.data("events").click,"has a click")});test("should show menu when query entered",function(){var b=$("<input />").typeahead({source:["aa","ab","ac"]}),a=b.data("typeahead");b.val("a");a.lookup();ok(a.$menu.is(":visible"),"typeahead is visible");equals(a.$menu.find("li").length,3,"has 3 items in menu");equals(a.$menu.find(".active").length,1,"one item is active");a.$menu.remove()});test("should hide menu when query entered",function(){stop();var b=$("<input />").typeahead({source:["aa","ab","ac"]}),a=b.data("typeahead");b.val("a");a.lookup();ok(a.$menu.is(":visible"),"typeahead is visible");equals(a.$menu.find("li").length,3,"has 3 items in menu");equals(a.$menu.find(".active").length,1,"one item is active");b.blur();setTimeout(function(){ok(!a.$menu.is(":visible"),"typeahead is no longer visible");start()},200);a.$menu.remove()});test("should set next item when down arrow is pressed",function(){var b=$("<input />").typeahead({source:["aa","ab","ac"]}),a=b.data("typeahead");b.val("a");a.lookup();ok(a.$menu.is(":visible"),"typeahead is visible");equals(a.$menu.find("li").length,3,"has 3 items in menu");equals(a.$menu.find(".active").length,1,"one item is active");ok(a.$menu.find("li").first().hasClass("active"),"first item is active");b.trigger({type:"keypress",keyCode:40});ok(a.$menu.find("li").first().next().hasClass("active"),"second item is active");b.trigger({type:"keypress",keyCode:38});ok(a.$menu.find("li").first().hasClass("active"),"first item is active");a.$menu.remove()});test("should set input value to selected item",function(){var c=$("<input />").typeahead({source:["aa","ab","ac"]}),a=c.data("typeahead"),b=false;c.val("a");a.lookup();c.change(function(){b=true});$(a.$menu.find("li")[2]).mouseover().click();equals(c.val(),"ac","input value was correctly set");ok(!a.$menu.is(":visible"),"the menu was hidden");ok(b,"a change event was fired");a.$menu.remove()})});